<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Faucet</title>


    <!-- Your application must load the Roboto and Material Icons fonts. -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </head>
  <script>  
  function ValidateEmailAddress(emailString) {
    // check for @ sign
    var atSymbol = emailString.indexOf("@");
    if(atSymbol < 1) return false;
    
    var dot = emailString.indexOf(".");
    if(dot <= atSymbol + 2) return false;
    
    // check that the dot is not at the end
    if (dot === emailString.length - 1) return false;
    
    return true;
}
    function validateform(){  
    var email=document.faucet_form.email.value;  
    var address=document.faucet_form.address.value;  
    var company = document.faucet_form.company.value;
    console.log(address);
    if (address==null || address==""||(adress.length<22)){  
      alert("Are you sure that you wallet address is correct?");  
      return false;  
    }else if (company==null || company==""){ 
      alert("Company can't be blank");  
    }else if(!ValidateEmailAddress(email)){  
      alert("email format is incorrect");  
      return false;  
   }  
   document.getElementById('before').style.display = 'none'
   document.getElementById('after').style.display = 'block'
   return true;
  }  
  
    </script>  
<body>

  <div class="container" id="before">
    <div class="jumbotron">
      <h1>Fill this form to receive 100 Lugh</h1>

      <form action="/transfer" name="faucet_form" method="post"  onsubmit="return validateform()">
        <label for="email">email:</label><br>
        <input type="text" id="email" name="email" ><br>
        <label for="company">Your company:</label><br>
        <input type="text" id="company" name="company" ><br><br>
        <label for="address">Your Tezos wallet address:</label><br>
        <input type="text" id="address" name="address" ><br><br>
        <input type="submit" value="Submit">
      </form>
    </div>
  </div>
  <div id="after" style="display: none;">
    <h1>Processing</h1>
  </div>

</body>
</html>
